<div class="map-wrapper">
  <mat-icon class="map-toggle-icon" (click)="toggleMapHeight()">
    unfold_more
  </mat-icon>

  <agm-map [ngStyle]="{'height.vh': mapHeightVh}"
           [latitude]=mapGeneralPosition.position.latitude
           [longitude]=mapGeneralPosition.position.longitude
           [zoom]="mapGeneralPosition.zoom"
           [styles]="styles"
           [clickableIcons]="false"
           (zoomChange)="zoomChanged($event)"
           (centerChange)="mapDragged($event)"
           (mapReady)="onMapReady()"
  >

    <agm-overlay *ngFor="let singlePin of mapPins"
                 [latitude]="singlePin.latitude"
                 [longitude]="singlePin.longitude"
    >
      <div class="pin-wrapper">
        <div class='pin'
             [class.pin--highlighted]="singlePin.highlighted"
             [class.pin--faded]="singlePin.inactive"
        >
          <img src="/assets/mapa.jpg" alt="'Brak zdjecia'">
          <span>{{singlePin.index}}</span>
        </div>
        <div id="pulse-{{singlePin.index}}" class='pulse'></div>

        <div id="pin-{{singlePin.index}}" class="pin-label-box">
          <label class="pin-label">{{'Nazwa'}}</label>
          <label class="pin-label pin-label--details">Kliknij, aby zobaczyć szczegóły</label>
        </div>
      </div>
    </agm-overlay>

    <agm-direction *ngIf="convertedDirOrigin && convertedDirDestination"
                   [origin]="convertedDirOrigin"
                   [destination]="convertedDirDestination"
                   [renderOptions]="directionRenderOptions"
                   [travelMode]="travelMode"
    >

    </agm-direction>

    <!--  <agm-marker *ngIf="markerCoordinate" [latitude]="markerCoordinate.lng" [longitude]="markerCoordinate.lat"-->
    <!--  >-->
    <!--  </agm-marker>-->
  </agm-map>
</div>

